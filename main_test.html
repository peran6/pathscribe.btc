<!DOCTYPE html>
<html>
<head>
    <title>Pathscribe.btc Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="container">
        <div class="map-container" id="mapContainer">
            <div id="map"></div>
            <div id="radarChartContainer" >
                <canvas id="radarChartMap"></canvas>
            </div>
        </div>
        <div id="searchContainer">
            <button id="homeButton" onclick="setup()">üè†</button>
            <input type="text" id="searchInput" placeholder="Enter Bitmap Number" value="114588" />
            <button id="searchButton">Search</button>
            <select id="locationSelect"></select>
        </div>
        <div class="sidebar">
            <img id="appLogo" src="app_logo.png" alt="App Logo">
            <button id="toggleSearchContainer" class="active">üîç</button>
            <button id="toggleObservatoryPanel">üî≠</button>
            <hr class="dashed">
            <button id="toggleCreateDomainPanel">üó∫Ô∏è</button>
            <button id="toggleCreateProfilePanel">üë§</button>
            <button id="togglePathScribePanel">üìê</button>
            <hr class="dashed">
            <button id="toggleControlPanel">‚öôÔ∏è</button>
        </div>
        
        <div class="controls" id="appInfoPanel">
            <h3>PathScribe.btc</h3>
            <div class="controls-content">
                <p>First decentralized Map on Bitcoin.<br>
                by @gperan6</p>
            </div>
        </div>
        <div class="controls" id="observatoryPanel">
            <h3>Observatory</h3>
            <div class="controls-content">
                <ul id="dotList" style="list-style-type: none; padding-left: 0;"></ul>
                <div id="darknessContainer" style="display: none;">
                    <h4>Darkness: <span id="darknessTimer">0</span> seconds</h4>
                    <h4>Time Passed: <span id="timePassed">0</span> seconds</h4>
                </div>
            </div>
        </div>
        <div class="controls" id="createDomainPanel">
            <h3>Create Domain</h3>
            <p>‚ùó Child to Bitmap</p>
            <div class="controls-content">
                <h4>1Ô∏è‚É£ Content:</h4>
                <input type="text" class="copyInput" value="xxxxxx.pathscribe">
                <button class="copyButton">Copy</button>
                <h4>2Ô∏è‚É£ Metadata:</h4>
                <label for="domainMapImage">Import your Map</label>
                <input type="file" id="imageInput" accept="image/*">
                <div id="mapBoundsControls">
                    <button id="removeMapButton" style="display: none;">Remove Map</button>
                    <p>Map Bounds:</p>
                    <button id="editNorthEastButton">‚ÜóÔ∏èNE</button><span id="northeastCoords"></span><br>
                    <button id="editSouthWestButton">‚ÜôÔ∏èSW</button><span id="southwestCoords"></span><br>
                    <button id="fullSizeButton">Full Size</button>
                    <p>‚ùó Ensure the imported image is the same with the Map Inscription</p>
                    <label for="domainMap">Map Inscription:</label>
                    <input type="text" id="domainMapId">
                </div>
                <label for="domainTarget">Target:</label>
                <input type="text" id="domainTarget">
                <p>Hexagon Labels:</p>
                <div id="hexagonInputs">
                    <input type="text" class="hexagon-input" placeholder="Hexagon 1" value="Natureüå≤" required>
                    <input type="text" class="hexagon-input" placeholder="Hexagon 2" value="Waterüíß" required>
                    <input type="text" class="hexagon-input" placeholder="Hexagon 3" value="Transportationüöå" required>
                    <input type="text" class="hexagon-input" placeholder="Hexagon 4" value="CivilizationüèòÔ∏è" required>
                    <input type="text" class="hexagon-input" placeholder="Hexagon 5" value="Animalsüêæ" required>
                    <input type="text" class="hexagon-input" placeholder="Hexagon 6" value="Dangerous‚ö†Ô∏è" required>
                </div>
                
                <button id="createDomainButton">Create Domain</button>
            </div>
        </div>
        <div class="controls" id="createProfilePanel">
            <h3>Create Pathscriber </h3>
            <p>‚ùó Child to Domain</p>
            <div class="controls-content">
                <h4>1Ô∏è‚É£ Content:</h4>
                <input type="text" class="copyInput" value="xx.xxxxxx.pathscribe">
                <button class="copyButton">Copy</button>
                <h4>2Ô∏è‚É£ Metadata:</h4>
                <label for="profileName">Name:</label>
                <input type="text" id="profileName">
                
                <label for="profileLocation">Location:</label>
                <input type="text" id="profileLocation" disabled>
                <button id="toggleLocationButton">Set Locationüîí</button>
                <label for="profileImage">Import Image to test</label>
                <input type="file" id="profileImageInput" accept="image/*" disabled>
                <label for="profileImg">Profile Image Inscription:</label>
                <input type="text" id="profileImg">
                <label for="profileTarget">Target:</label>
                <input type="text" id="profileTarget">
                <button id="createProfileButton">Create Pathscriber</button>
            </div>
        </div>
        <div class="controls" id="pathScribePanel">
            <h3>PathScribing</h3>
            <p>‚ùó Child to Pathscriber</p>
            <div class="controls-content">
                <h4>1Ô∏è‚É£ Content:</h4>
                <input type="text" id="coordinateInput" placeholder="Enter coordinates (lat,lng)" disabled />
                <button id="togglePathScribeButton">Activate PathScribe Mode</button>
                <div style="display: flex; align-items: center;">
                    <button id="addPathButton" style="display: none;" disabled>Activate Add Path</button>
                    <span id="distanceDisplay"></span>
                </div>
                <button id="clearMapButton">Clear Map</button>
                <button id="createContentButton">Create Content</button>
                <h4>2Ô∏è‚É£ Metadata:</h4>
                <label for="nameInput">*Name:</label>
                <input type="text" id="nameInput" />
                <label for="infoInput">*Info:</label>
                <input type="text" id="infoInput" />
                <label for="radarInput">*Radar:</label>
                <p>‚ùó Click on label to change value</p>
                <div id="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
                <button id="createMetadataButton">Create Metadata</button>
            </div>
        </div>
        <div class="controls" id="controlPanel">
            <h3>Map Settings</h3>
            <div class="controls-content">
                <div>
                    Import Path
                    <input type="file" id="fileInput" accept=".json" />
                </div>
                <div>
                    Import Map
                    <input type="file" id="geojsonInput" accept=".json" />
                </div>
                <button id="removeButton">Remove Imported Path</button>
                <button id="toggleTileLayerButton">Enable Tile Layer</button>
            </div>
        </div>
    </div>
    <div class="panel" id="coordinatesPanel">
        <h3>Coordinates</h3>
        <div class="controls-content">
            <pre id="coordinatesDisplay"></pre>
            <button onclick="copyToClipboard()">Copy to Clipboard</button>
            <button onclick="closePanel()">Close</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="bitmapLibrary.js"></script>
    <script src="cbor.js" type="text/javascript"></script>
    <script src="script.js" type="text/javascript"></script>
</body>
</html>
